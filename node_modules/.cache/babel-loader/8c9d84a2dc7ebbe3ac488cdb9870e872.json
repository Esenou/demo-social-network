{"ast":null,"code":"var _jsxFileName = \"/home/esen/my-app/src/components/Users/UsersContainer.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport { followAC, unfollowAC, setUsersAC, setCurrentPageAC, setTotalUsersCountAC } from '../../redux/users-reducer';\nimport Users from './Users';\nimport * as axios from 'axios';\nimport preloader from '../../asserts/images/preloader.gif';\n\nclass UsersContainer extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onPageChanged = pageNumber => {\n      this.props.setCurrentPage(pageNumber);\n      axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${this.props.pageSize}`).then(response => {\n        this.props.setUsers(response.data.items);\n      });\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`).then(response => {\n      this.props.setUsers(response.data.items);\n      this.props.setTotalUsersCount(response.data.totalCount);\n      console.log(response.data.totalCount);\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, this.props.isFetching ? /*#__PURE__*/React.createElement(\"img\", {\n      src: preloader,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 33\n      }\n    }) : null, /*#__PURE__*/React.createElement(Users, {\n      totalUserCount: this.props.totalUserCount,\n      pageSize: this.props.pageSize,\n      currentPage: this.props.currentPage,\n      users: this.props.users,\n      onPageChanged: this.onPageChanged,\n      unfollow: this.props.unfollow,\n      follow: this.props.follow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nlet mapStateToProps = state => {\n  return {\n    users: state.usersPage.users,\n    pageSize: state.usersPage.pageSize,\n    totalUserCount: state.usersPage.totalUserCount,\n    currentPage: state.usersPage.currentPage,\n    isFetching: state.usersPage.isFetching\n  };\n};\n\nlet mapDispathToProps = dispatch => {\n  return {\n    follow: userId => {\n      dispatch(followAC(userId));\n    },\n    unfollow: userId => {\n      dispatch(unfollowAC(userId));\n    },\n    setUsers: users => {\n      dispatch(setUsersAC(users));\n    },\n    setCurrentPage: currentPage => {\n      dispatch(setCurrentPageAC(currentPage));\n    },\n    setTotalUsersCount: totalUsersCount => {\n      dispatch(setTotalUsersCountAC(totalUsersCount));\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispathToProps)(UsersContainer);","map":{"version":3,"sources":["/home/esen/my-app/src/components/Users/UsersContainer.jsx"],"names":["React","connect","followAC","unfollowAC","setUsersAC","setCurrentPageAC","setTotalUsersCountAC","Users","axios","preloader","UsersContainer","Component","constructor","props","onPageChanged","pageNumber","setCurrentPage","get","pageSize","then","response","setUsers","data","items","componentDidMount","currentPage","setTotalUsersCount","totalCount","console","log","render","isFetching","totalUserCount","users","unfollow","follow","mapStateToProps","state","usersPage","mapDispathToProps","dispatch","userId","totalUsersCount"],"mappings":"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","sourcesContent":["import React from  'react';\nimport { connect } from 'react-redux';\nimport { followAC, unfollowAC, setUsersAC ,setCurrentPageAC , setTotalUsersCountAC} from '../../redux/users-reducer';\nimport Users from './Users';\nimport *as axios from 'axios';\nimport preloader from '../../asserts/images/preloader.gif';\n\nclass UsersContainer extends React.Component {\n\n    constructor(props) {\n        super(props);\n    }\n    componentDidMount() {\n        axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pageSize}`).then(response => {\n\n            this.props.setUsers(response.data.items);\n            this.props.setTotalUsersCount(response.data.totalCount);\n            console.log(response.data.totalCount);\n        });\n    }\n    onPageChanged = (pageNumber) => {\n        this.props.setCurrentPage(pageNumber)\n        axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${this.props.pageSize}`).then(response => {\n\n            this.props.setUsers(response.data.items);\n\n        });\n    }\n\n    render() {\n\n\n        return <>\n        {this.props.isFetching ?<img src={preloader}/>:null}\n        <Users totalUserCount={this.props.totalUserCount}\n            pageSize={this.props.pageSize}\n            currentPage={this.props.currentPage}\n            users={this.props.users}\n            onPageChanged={this.onPageChanged}\n\n            unfollow={this.props.unfollow}\n            follow={this.props.follow}\n\n        />\n            </>\n\n    }\n\n}\n \n\n\nlet mapStateToProps = (state) => {\n    \n    return {\n        users: state.usersPage.users,\n        pageSize: state.usersPage.pageSize,\n        totalUserCount: state.usersPage.totalUserCount,\n        currentPage: state.usersPage.currentPage,\n        isFetching: state.usersPage.isFetching\n    }\n}\n\nlet mapDispathToProps = (dispatch) =>{\n    \n    return {\n        follow: (userId) =>{\n           \n            dispatch (followAC(userId))\n        },\n        unfollow: (userId) =>{\n            dispatch (unfollowAC(userId))\n        },\n        setUsers: (users) =>{\n            dispatch (setUsersAC(users))\n        },\n    \n        setCurrentPage: (currentPage) =>{\n            dispatch(setCurrentPageAC(currentPage))\n        },\n        setTotalUsersCount:(totalUsersCount) => {\n            dispatch(setTotalUsersCountAC(totalUsersCount))\n        }\n    }\n\n}\n\nexport default connect(mapStateToProps,mapDispathToProps)(UsersContainer);"]},"metadata":{},"sourceType":"module"}